# OpenWRT Domains Scripts

–ö–æ–ª–ª–µ–∫—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —Å–ø–∏—Å–∫–æ–≤ –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è OpenWRT —Ä–æ—É—Ç–µ—Ä–æ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
‚îú‚îÄ‚îÄ Scripts/           # –ü–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è OpenWRT
‚îÇ   ‚îî‚îÄ‚îÄ ledcontrol.sh  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LED-–∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
‚îî‚îÄ‚îÄ Services/          # –°–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
    ‚îî‚îÄ‚îÄ copilot.lst    # –î–æ–º–µ–Ω—ã –¥–ª—è GitHub Copilot –∏ Microsoft Edge
```

## –°–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤

<details>
  <summary>GitHub Copilot / Microsoft Edge</summary><br>
    
  –°–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã GitHub Copilot –∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ Microsoft Edge.
    
- **–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞:** [copilot.lst](https://raw.githubusercontent.com/NikkyFreaky/OpenWRT/refs/heads/main/Services/copilot.lst)
</details>

## –°–∫—Ä–∏–ø—Ç—ã

<details>
  <summary>LED-–∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é</summary><br>
  
  –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LED-–∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —Ä–æ—É—Ç–µ—Ä–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫.

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ LED –ø–æ –∫–æ–º–∞–Ω–¥–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è LED

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ

  <details>
    <summary>–°–ø–∏—Å–æ–∫ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</summary>

- Xiaomi Router AX3000T
</details>

> **‚ÑπÔ∏è Note:**   
> –°–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω—è—Ç—å—Å—è. –ü–∏—à–∏—Ç–µ –Ω–∞ –∫–∞–∫–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç–∞ –≤ [–æ–±—Å—É–∂–¥–µ–Ω–∏–∏](https://github.com/NikkyFreaky/OpenWRT/discussions/4).

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–∫—Ä–∏–ø—Ç–∞ –∏ —Å–¥–µ–ª–∞–π—Ç–µ –µ–≥–æ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

   ```bash
   touch /etc/ledcontrol.sh && chmod +x /etc/ledcontrol.sh
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

   ```bash
   vi /etc/ledcontrol.sh
   ```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ [ledcontrol.sh](https://raw.githubusercontent.com/NikkyFreaky/OpenWRT/refs/heads/main/Scripts/ledcontrol.sh)

4. –°–¥–µ–ª–∞–π—Ç–µ —Ñ–∞–π–ª `/etc/rc.local` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ:

   ```bash
   chmod +x /etc/rc.local && vi /etc/rc.local
   ```

   > **üí° Tip:**   
   > –ú–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å `/etc/rc.local` —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LuCI –≤ System ‚Üí Startup (–°–∏—Å—Ç–µ–º–∞ ‚Üí –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫), –≤–∫–ª–∞–¥–∫–∞ Local Startup.

5. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –¥–æ `exit 0`:

   ```bash
   (sleep 5 && /etc/ledcontrol.sh auto) &
   ```

   > **‚ÑπÔ∏è Note:**    
   > –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –Ω—É–∂–Ω–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Ä–æ—É—Ç–µ—Ä–∞ —Å 5-—Å–µ–∫—É–Ω–¥–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π, —á—Ç–æ–±—ã –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã —É—Å–ø–µ–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è.

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LuCI
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **System ‚Üí Scheduled Tasks** (–°–∏—Å—Ç–µ–º–∞ ‚Üí –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)
3. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:

   ```cron
   00 23 * * * /etc/ledcontrol.sh off
   00 7 * * * /etc/ledcontrol.sh on
   */30 * * * * /etc/ledcontrol.sh auto
   ```

4. –ù–∞–∂–º–∏—Ç–µ **Save** (–°–æ—Ö—Ä–∞–Ω–∏—Ç—å)

   > **üí° Tip:**    
   > –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
   
   ```bash
   crontab -e
   ```

   –ü–æ –¥–∞–Ω–Ω–æ–º—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é LED –±—É–¥–µ—Ç –≤—ã–∫–ª—é—á–∞—Ç—å—Å—è –≤ 23:00 –∏ –≤–∫–ª—é—á–∞—Ç—å—Å—è –≤ 7:00. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ `auto` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç.

   > **‚ö†Ô∏è Warning:**  
   > –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç–µ –≤—Ä–µ–º—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è, –∏–∑–º–µ–Ω—è–π—Ç–µ –µ–≥–æ –∫–∞–∫ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ, —Ç–∞–∫ –∏ –≤ —Å–∞–º–æ–º —Å–∫—Ä–∏–ø—Ç–µ.

5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–ª—É–∂–±—É cron:
   ```bash
   /etc/init.d/cron restart
   ```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –í–∫–ª—é—á–∏—Ç—å LED
/etc/ledcontrol.sh on

# –í—ã–∫–ª—é—á–∏—Ç—å LED
/etc/ledcontrol.sh off

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
/etc/ledcontrol.sh auto
```

#### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ —Å–∫—Ä–∏–ø—Ç–∞:

  ```bash
  logread | grep ledcontrol
  ```

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è LED:

  ```bash
  cat /sys/class/leds/blue:status/trigger
  cat /sys/class/leds/blue:status/brightness
  ```

- –ü—Ä–æ–≤–µ—Ä–∫–∞ cron-–∑–∞–¥–∞—á:
  ```bash
  crontab -l
  ```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏

–í —Å–∫—Ä–∏–ø—Ç–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
ON_TIME=700   # 7:00
OFF_TIME=2300 # 23:00
```

</details>
